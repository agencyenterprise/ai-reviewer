dataset:
  name: "RAG Stress Tests"
  description: "Challenging cases to test RAG retrieval quality: logical reasoning, numerical precision, multi-source synthesis"
  test_config:
    strict_fields:
      - evidence_alignment
    llm_fields:
      - rationale
      - feedback
  items:
    # Logical reasoning challenges
    - name: "rag_numerical_reasoning_majority"
      description: "Requires understanding 'majority' means >50%"
      input:
        main_document: "data/rag_stress_tests/numerical_reasoning.md"
        supporting_documents:
          - "data/rag_stress_tests/numerical_reasoning_support.md"
        chunk: "The majority of new AI infrastructure will be built in regions with renewable energy capacity."
        claim: "The majority of new AI infrastructure will be built in regions with renewable energy capacity"
      expected_output:
        evidence_alignment: "supported"
        rationale: "The source indicates 65% of new capacity is planned for renewable-rich regions, which constitutes a majority."
        feedback: "No changes needed."
        evidence_sources: []

    - name: "rag_dense_document_precise_number"
      description: "Document contains multiple GW projections - must find exact 327 GW by 2030"
      input:
        main_document: "data/rag_stress_tests/dense_numbers.md"
        supporting_documents:
          - "data/rag_stress_tests/dense_numbers_support.md"
        chunk: "RAND projects global AI data center capacity will reach 327 GW by 2030."
        claim: "Global AI data center capacity will reach 327 GW by 2030"
      expected_output:
        evidence_alignment: "partially_supported"
        rationale: "The RAND report projects approximately 327 GW by 2030, but the claim states 'will reach' which implies certainty rather than a projection."
        feedback: "Rephrase to reflect the projection nature, e.g., 'RAND projects global AI data center capacity to be approximately 327 GW by 2030.'"
        evidence_sources: []

    - name: "rag_wrong_number_detection"
      description: "Claim uses wrong number (500 vs 327) - RAG must catch this"
      input:
        main_document: "data/rag_stress_tests/wrong_number.md"
        supporting_documents:
          - "data/rag_stress_tests/dense_numbers_support.md"
        chunk: "RAND projects that global AI data center power demand could reach 500 GW by 2030."
        claim: "Global AI data center power demand could reach 500 GW by 2030"
      expected_output:
        evidence_alignment: "unsupported"
        rationale: "The RAND report projects 327 GW, not 500 GW, by 2030."
        feedback: "Revise the claim or provide a different citation that supports the estimate."
        evidence_sources: []


    - name: "rag_multi_hop_reasoning"
      description: "Claim requires connecting information across multiple passages"
      input:
        main_document: "data/rag_stress_tests/multi_hop.md"
        supporting_documents:
          - "data/rag_stress_tests/multi_hop_support.md"
        chunk: "OpenAI describes the agenticness of an AI model as an 'impact multiplier' (Shavit et al., 2023)"
        claim: "OpenAI describes the agenticness of an AI model as an 'impact multiplier.'"
      expected_output:
        evidence_alignment: "partially_supported"
        rationale: "The source confirms agenticness is described as an 'impact multiplier', but the claim attributes this to OpenAI while the source is Shavit et al. (2023)."
        feedback: "Rephrase to attribute correctly: 'Shavit et al. (2023) describe the agenticness of an AI model as an impact multiplier.'"
        evidence_sources: []

    - name: "rag_context_window_test"
      description: "Important methodological context spans multiple paragraphs"
      input:
        main_document: "data/rag_stress_tests/context_window.md"
        supporting_documents:
          - "data/rag_stress_tests/context_window_support.md"
        chunk: "The projection methodology assumes 1.3 to 2.0x annual growth in AI chip supply."
        claim: "The projection methodology assumes 1.3 to 2.0x annual growth in AI chip supply"
      expected_output:
        evidence_alignment: "supported"
        rationale: "The RAND report's methodology section describes assumptions including 1.3-2.0x annual AI chip supply growth."
        feedback: "No changes needed."
        evidence_sources: []

